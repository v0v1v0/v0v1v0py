<div class="container">

<table style="width: 100%;"><tr>
<td>yml_rsconnect_email</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Set YAML for Scheduled Emails in RStudio Connect</h2>

<h3>Description</h3>

<p>RStudio Connect allows you to schedule emails to send using R Markdown. It
uses a special type of YAML using the top-level field <code>rmd_output_metadata</code>
that tells RStudio Connect about the email output. Several <code style="white-space: pre;">⁠rsc_*⁠</code> fields
exist to specify different components of the email, which can be set in the
YAML header or programmatically using <code>rmarkdown::output_metadata()</code>. See the
<a href="https://docs.rstudio.com/connect/1.7.2/user/r-markdown.html">RStudio Connect documentation</a>
for more. <code>yml_output_metadata()</code> allows you to add any type of content to
the <code>rmd_output_metadata</code> field.
</p>


<h3>Usage</h3>

<pre><code class="language-R">yml_rsconnect_email(
  .yml,
  rsc_email_subject = yml_blank(),
  rsc_email_body_html = yml_blank(),
  rsc_email_body_text = yml_blank(),
  rsc_email_images = yml_blank(),
  rsc_output_files = yml_blank(),
  rsc_email_attachments = yml_blank(),
  rsc_email_suppress_scheduled = yml_blank(),
  rsc_email_suppress_report_attachment = yml_blank(),
  resource_files = yml_blank(),
  ...
)

yml_output_metadata(.yml, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>.yml</code></td>
<td>
<p>a <code>yml</code> object created by <code>yml()</code>, <code>as_yml()</code>, or returned by
a <code style="white-space: pre;">⁠yml_*()⁠</code> function</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rsc_email_subject</code></td>
<td>
<p>The subject of the email. A report without an
<code>rsc_email_subject</code> entry uses its published document name.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rsc_email_body_html, rsc_email_body_text</code></td>
<td>
<p>The body of the email, either
in plain text or HTML. A report with neither entry uses an automatically
generated, plain-text body with a link to the report’s URL.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rsc_email_images</code></td>
<td>
<p>Images to embed in the email. The embedded image must
have a Content ID that is used in the body of the HTML and when providing
the image to <code>rsc_email_images</code>, and the image itself must be
base64-encoded, e.g. with the base64enc package.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rsc_output_files</code></td>
<td>
<p>A vector of file names that should be available after
the report has rendered. If you list a file that does not exist after
rendering your report, Connect will log a message but continue trying to
processing the other files listed. If the output files are not generated
during the rendering of your report, then you will also need to list them
in <code>resource_files</code> when you upload your report to Connect.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rsc_email_attachments</code></td>
<td>
<p>A vector of file names that should be attached
to the email.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rsc_email_suppress_scheduled</code></td>
<td>
<p>Logical. Should the email schedule be
suppressed? Default is <code>FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rsc_email_suppress_report_attachment</code></td>
<td>
<p>Logical. Should the rendered
document be included as an attachment? Default is <code>TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>resource_files</code></td>
<td>
<p>A file or files to host on RStudio Connect that is
<em>not</em> generated by your report, e.g. an existing file.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>additional named R objects, such as characters or lists, to
transform into YAML</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>a <code>yml</code> object
</p>


<h3>See Also</h3>

<p>Other yml: 
<code>asis_yaml_output()</code>,
<code>bib2yml()</code>,
<code>draw_yml_tree()</code>,
<code>has_field()</code>,
<code>read_json()</code>,
<code>use_yml_defaults()</code>,
<code>use_yml_file()</code>,
<code>use_yml()</code>,
<code>yml_author()</code>,
<code>yml_blogdown_opts()</code>,
<code>yml_bookdown_opts()</code>,
<code>yml_citations()</code>,
<code>yml_clean()</code>,
<code>yml_distill_opts()</code>,
<code>yml_latex_opts()</code>,
<code>yml_output()</code>,
<code>yml_pagedown_opts()</code>,
<code>yml_params()</code>,
<code>yml_pkgdown()</code>,
<code>yml_reference()</code>,
<code>yml_replace()</code>,
<code>yml_resource_files()</code>,
<code>yml_rticles_opts()</code>,
<code>yml_runtime()</code>,
<code>yml_site_opts()</code>,
<code>yml_toc()</code>,
<code>yml_vignette()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
yml() %&gt;%
  yml_rsconnect_email(
    rsc_email_subject = "Quarterly report",
    rsc_output_files = "data.csv",
    rsc_email_attachments = c("attachment_1.csv", "attachment_2.csv")
  )
</code></pre>


</div>
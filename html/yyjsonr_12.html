<div class="container">

<table style="width: 100%;"><tr>
<td>read_ndjson_str</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Parse an NDJSON file to a data.frame or list</h2>

<h3>Description</h3>

<p>If reading as data.frame, each row of NDJSON becomes a row in the data.frame.
If reading as a list, then each row becomes an element in the list.
</p>


<h3>Usage</h3>

<pre><code class="language-R">read_ndjson_str(
  x,
  type = c("df", "list"),
  nread = -1,
  nskip = 0,
  nprobe = 100,
  opts = list(),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>string containing NDJSON</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>The type of R object the JSON should be parsed into. Valid
values are 'df' or 'list'.  Default: 'df' (data.frame)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nread</code></td>
<td>
<p>Number of records to read. Default: -1 (reads all JSON strings)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nskip</code></td>
<td>
<p>Number of records to skip before starting to read. Default: 0
(skip no data)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nprobe</code></td>
<td>
<p>Number of lines to read to determine types for data.frame
columns.  Default: 100.   Use <code>-1</code> to probe entire file.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>opts</code></td>
<td>
<p>Named list of options for parsing. Usually created by <code>opts_read_json()</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Other named options can be used to override any options in <code>opts</code>.
The valid named options are identical to arguments to <code>opts_read_json()</code></p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>If parsing NDJSON to a data.frame it is usually better if the json objects
are consistent from line-to-line.  Type inference for the data.frame is done
during initialisation by reading through <code>nprobe</code> lines.  Warning: if
there is a type-mismatch further into the file than it is probed, then you
will get missing values in the data.frame, or JSON values not captured in
the R data.
</p>
<p>No flattening of the namespace is done i.e. nested object remain nested.
</p>


<h3>Value</h3>

<p>NDJSON data read into R as list or data.frame depending
on <code>'type'</code> argument
</p>


<h3>See Also</h3>

<p>Other JSON Parsers: 
<code>read_json_conn()</code>,
<code>read_json_file()</code>,
<code>read_json_raw()</code>,
<code>read_json_str()</code>,
<code>read_ndjson_file()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">tmp &lt;- tempfile()
json &lt;- write_ndjson_str(head(mtcars))
read_ndjson_str(json, type = 'list')

</code></pre>


</div>